"use strict";function CheckAdminInfo(){var e=$("#adminUsername").val(),n=$("#adminPasswort").val();console.log("Username: "+e),console.log("Password: "+n);$.post("/Admin/CheckAdminInfo",{username:e,password:n}).then(function(e){console.log("ServerReply CheckAdminInfo: "+e),"username_fail"===e?$("#LoginError").html("User ist nicht vorhanden!"):"password_fail"===e?$("#LoginError").html("Falsches Passwort!"):"ok"===e&&(window.open("AdminOverview"),self.close())})}function StationSelected(){var e=$("#stations_admin").val();if(console.log("Selected Station: "+e),"noItemSelected"!=e)for(var n=$("#admin_aufgabenliste").children(),o=0;o<n.length;o++){(a=n[o]).id.split("-")[1]!=e?$("#"+a.id).hide():$("#"+a.id).show()}else for(n=$("#admin_aufgabenliste").children(),o=0;o<n.length;o++){var a=n[o];$("#"+a.id).show()}}function SearchFrageText(){var e=$("#searchFrageField").val();console.log("Eingegebener Text: "+e);for(var n=$("#admin_aufgabenliste").children(),o=0;o<n.length;o++){var a=n[o];-1!=$("#"+a.id).children().first().text().toUpperCase().search(e.toUpperCase())?$("#"+a.id).show():$("#"+a.id).hide()}}function AufgabeInfoClicked(e){console.log("Aufgabe Info Clicked");var n=e.target.id;console.log("Target_ID: "+n);var o="/Admin/GetAufgabeInfo?aufgabe_id="+n;$("#loadModal").load(o,function(){$("#aufgabeInfo_Modal").modal("show")})}function AufgabeEditClicked(e){console.log("Aufgabe Edit Clicked");var n=e.target.id;console.log("Target_ID: "+n),window.open("AufgabeEditView?aufgabe_id="+n)}function AufgabeDeleteClicked(e){console.log("Aufgabe Delete Clicked");var n=e.target.id;console.log("Target_ID: "+n),$("#aufgabeDelete_Modal").modal("show")}function AdminInfoClicked(e){console.log("Admin Info Clicked");var n=e.target.id;console.log("Target_ID: "+n);var o="/Admin/GetAdminInfo?admin_id="+n;$("#loadModal").load(o,function(){$("#adminInfo_Modal").modal("show")})}function AdminEditClicked(e){console.log("Admin Edit Clicked");var n=e.target.id;console.log("Target_ID: "+n);var o="/Admin/GetAdminEdit?admin_id="+n;$("#loadModal").load(o,function(){$("#adminEdit_Modal").modal("show"),$("#saveAdminChanges").on("click",SaveAdminChanges)})}function AdminDeleteClicked(e){console.log("Admin Delete Clicked");var n=e.target.id;console.log("Target_ID: "+n);var o="/Admin/GetAdminDelete?admin_id="+n;$("#loadModal").load(o,function(){$("#adminDelete_Modal").modal("show"),$("#deleteAdmin").on("click",DeleteAdmin)})}function SaveAdminChanges(){console.log("enter SaveAdminChanges");var e=$("#admin_id_edit").text(),n=$("#changeUsername").val(),o=$("#changePassword").val(),a=$("input[name=admin_create_option]:checked").val(),i=$("input[name=admin_edit_option]:checked").val(),d=$("input[name=admin_delete_option]:checked").val();console.log("Testausgabe-EditAdminData Benutzereingaben:"),console.log("Admin_ID: "+e),console.log("Username: "+n),console.log("Password: "+o),console.log("Can_Create_Acc: "+a),console.log("Can_Edit_Acc: "+i),console.log("Can_Delete_Acc: "+d);$.post("/Admin/SaveAdminChanges",{admin_id:e,username:n,password:o,can_create_acc:a,can_edit_acc:i,can_delete_acc:d}).then(function(e){console.log("ServerReply SaveAdminChanges: "+e),location.reload()})}function DeleteAdmin(){console.log("enter DeleteAdmin");var e=$("#admin_id_delete").text();console.log("Admin_ID: "+e);$.post("/Admin/DeleteAdmin",{admin_id:e}).then(function(e){console.log("ServerReply DeleteAdmin: "+e),location.reload()})}function CreateAdminClicked(){console.log("enter CreateAdminClicked"),$("#adminCreate_Modal").modal("show")}function CreateAdmin(){console.log("enter CreateAdmin");var e=$("#newAdmin_Username").val(),n=$("#newAdmin_Password").val(),o=$("input[name=admin_create_option]:checked").val(),a=$("input[name=admin_edit_option]:checked").val(),i=$("input[name=admin_delete_option]:checked").val();console.log("Username: "+e),console.log("Password: "+n),console.log("Can_Create_Acc: "+o),console.log("Can_Edit_Acc: "+a),console.log("Can_Delete_Acc: "+i);$.post("/Admin/CreateAdmin",{username:e,password:n,can_create_acc:o,can_edit_acc:a,can_delete_acc:i}).then(function(e){console.log("ServerReply CreateAdmin: "+e),location.reload()})}function SetStandorteBezirk(){console.log("enter SetStandorteBezirk");var e=$("#adminEdit_bezirk_select").val();console.log("Selected Bezirk: "+e);var n="/Admin/SetStandorteBezirkComboBox?bezirk="+e;$("#adminEdit_ort_select").load(n)}$(document).ready(function(){console.log("jQuery Admin ready"),$("#adminUsername").val("testadmin1"),$("#adminPasswort").val("hallo123"),$("#adminLoginButton").on("click",CheckAdminInfo),$("#stations_admin").on("change",StationSelected),$("#searchFrageText").on("click",SearchFrageText),$("#searchFrageField").bind("enterKey",SearchFrageText),$("#searchFrageField").keydown(function(e){13==e.keyCode&&($(this).trigger("enterKey"),e.preventDefault())}),$(".aufgabe_Info").on("click",AufgabeInfoClicked),$(".aufgabe_warning").on("click",AufgabeEditClicked),$(".aufgabe_danger").on("click",AufgabeDeleteClicked),$(".admin_Info").on("click",AdminInfoClicked),$(".admin_warning").on("click",AdminEditClicked),$(".admin_danger").on("click",AdminDeleteClicked),$("#create_new_admin").on("click",CreateAdminClicked),$("#create_admin_button").on("click",CreateAdmin),$("#adminEdit_bezirk_select").on("change",SetStandorteBezirk)});